# This file was generated by GoReleaser. DO NOT EDIT.
cask "spec-tdd" do
  name "spec-tdd"
  desc "Spec-driven TDD workflow CLI"
  homepage "https://github.com/thirdlf03/spec-tdd"
  version "0.0.4"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "spec-tdd"

  on_macos do
    on_intel do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Darwin_x86_64.tar.gz"
      sha256 "f18d5e855af1cde808325828b5e4e47d838e91be483dd03fbabcf53bc2f1d384"
    end
    on_arm do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Darwin_arm64.tar.gz"
      sha256 "6acbc7cb0ff37be740690f46007b1d169b5bdd70a6152a90bbd3f45a841a4513"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Linux_x86_64.tar.gz"
      sha256 "f2bb32b7a0635fbfa6122e9ab7e00898b5e4d06a565aadd795952530a0c31254"
    end
    on_arm do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Linux_arm64.tar.gz"
      sha256 "3bb82f1d25e83dd77c0ffa4efd5f39c55597d60c8a04e42f908e8df40a0a81c2"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/spec-tdd"]
    end
  end

  caveats do
    "Shell completion:"
    ""
    "  # Bash"
    "  source <(spec-tdd completion bash)"
    ""
    "  # Zsh (add to .zshrc)"
    "  source <(spec-tdd completion zsh)"
    ""
    "  # Fish"
    "  spec-tdd completion fish | source"
  end

  # No zap stanza required
end
