# This file was generated by GoReleaser. DO NOT EDIT.
cask "spec-tdd" do
  name "spec-tdd"
  desc "Spec-driven TDD workflow CLI"
  homepage "https://github.com/thirdlf03/spec-tdd"
  version "0.0.3"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "spec-tdd"

  on_macos do
    on_intel do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Darwin_x86_64.tar.gz"
      sha256 "86bc91a56f4b26a08eb72c3efccd468f8772f482ed86ed8ca957eb6c4d644b37"
    end
    on_arm do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Darwin_arm64.tar.gz"
      sha256 "7e32be093a36e437ba5a3821e5d4b88952cfd8e8be299d43281a72adb602e3b5"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Linux_x86_64.tar.gz"
      sha256 "2330e7c25580c9b52e27d8a3bed9cbd9b5e59eb9cae7db5eff4ffe89369c9b6d"
    end
    on_arm do
      url "https://github.com/thirdlf03/spec-tdd/releases/download/v#{version}/spec-tdd_#{version}_Linux_arm64.tar.gz"
      sha256 "82897dcd2f90c992df1c5e4ae9b7ef404c7169b043d1a945be4419754ee9bef3"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/spec-tdd"]
    end
  end

  caveats do
    "Shell completion:"
    ""
    "  # Bash"
    "  source <(spec-tdd completion bash)"
    ""
    "  # Zsh (add to .zshrc)"
    "  source <(spec-tdd completion zsh)"
    ""
    "  # Fish"
    "  spec-tdd completion fish | source"
  end

  # No zap stanza required
end
